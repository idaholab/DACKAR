

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Emergent Activity Analysis demo &mdash; DACKAR 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
      <script src="../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            DACKAR
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install_spacy3.5.html">Installation with Spacy 3.5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation with Spacy 3.1 (Archived)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Notebooks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../autoapi/index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DACKAR</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Emergent Activity Analysis demo</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/notebooks/EmergentActivity_Processing.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Emergent-Activity-Analysis-demo">
<h1>Emergent Activity Analysis demo<a class="headerlink" href="#Emergent-Activity-Analysis-demo" title="Link to this heading">¶</a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import os, sys, time

cwd = os.getcwd()
frameworkDir = os.path.abspath(os.path.join(cwd, os.pardir, &#39;src&#39;))
sys.path.append(frameworkDir)

from dackar.text_processing.Preprocessing import Preprocessing
import warnings
warnings.filterwarnings(&quot;ignore&quot;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Warming up PyWSD (takes ~10 secs)... took 2.377617835998535 secs.
</pre></div></div>
</div>
<section id="Text-example">
<h2>Text example<a class="headerlink" href="#Text-example" title="Link to this heading">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># General Example
content = &quot;&quot;&quot; wo101 wo 102  wo# 103 , wo#104 or wo #105 wo # 106 or a 107 wrong wo .
ABCD01D hrs- 8hr PERFORM 8-hr REPAIRS IF 10-hrs REQUIRED 24hrs (contingency 24 hrs).
1EFGH/J08K ERECT AB-7603 FOR IJKL-7148 XYZA7148abc OPGH0248 M-N 100 for WO# 84658 1BC/E08D-34r.
RELEASE [CLEARANCE] #3693 RED/Replace # the &quot;A&quot; ** (Switch).
A218-82-9171 -  REMOVE {INSUL}  [ISO].
&quot;&quot;&quot;
</pre></div>
</div>
</div>
</section>
<section id="Pipeline-creation">
<h2>Pipeline creation<a class="headerlink" href="#Pipeline-creation" title="Link to this heading">¶</a></h2>
<p>Preprocessing requires a list of all desired preprocessors and a dictionary containing any additional options from textacy. The main keys of the options dictionary correspond to the name of the preprocessor. See the Text Preprocessing section from <a class="reference external" href="https://textacy.readthedocs.io/en/latest/">https://textacy.readthedocs.io/en/latest/</a> for available options.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>preprocessorList = [&#39;hyphenated_words&#39;,
                    &#39;punctuation&#39;,
                    &#39;quotation_marks&#39;,
                    # &#39;brackets&#39;,
                    &#39;whitespace&#39;]
preprocessorOptions = {
                      # &#39;brackets&#39;: {&#39;only&#39;: &#39;square&#39;},
                      &#39;punctuation&#39;: {&#39;only&#39;: [&#39;(&#39;, &#39;)&#39;, &#39;[&#39;, &#39;]&#39;, &#39;{&#39;,&#39;}&#39;, &#39;*&#39;, &#39;#&#39;, &#39;~&#39;, &#39;@&#39;, &#39;$&#39;, &#39;^&#39;, &#39;:&#39;, &#39;;&#39;, &#39;=&#39;, &#39;_&#39;, &#39;&quot;&#39;, &#39;!&#39;]}
                      }

preprocess = Preprocessing(preprocessorList, preprocessorOptions)
post = preprocess(content)
print(post)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
wo101 wo 102 wo 103 , wo 104 or wo 105 wo 106 or a 107 wrong wo .
ABCD01D hrs- 8hr PERFORM 8-hr REPAIRS IF 10-hrs REQUIRED 24hrs contingency 24 hrs .
1EFGH/J08K ERECT AB-7603 FOR IJKL-7148 XYZA7148abc OPGH0248 M-N 100 for WO 84658 1BC/E08D-34r.
RELEASE CLEARANCE 3693 RED/Replace the A Switch .
A218-82-9171 - REMOVE INSUL ISO .
</pre></div></div>
</div>
<section id="Abbreviation-Handling">
<h3>Abbreviation Handling<a class="headerlink" href="#Abbreviation-Handling" title="Link to this heading">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from dackar.text_processing.Abbreviation import Abbreviation

abbreviation = Abbreviation()
# abbrDict = abbreviation.getAbbreviation()
# print(abbrDict)

# FIXME: do not work well when the abbreviation is combined with &#39;-&#39; and numbers, such as &#39;8-hr&#39; or &#39;8hr&#39;
# abbrDict = {&#39;hr&#39;:&#39;hour&#39;, &#39;hrs&#39;:&#39;hours&#39;, &#39;-hr&#39;:&#39; hour&#39;, &#39;-hrs&#39;:&#39;hours&#39;}
abbrDict = {&#39;hr&#39;:&#39;hour&#39;, &#39;hrs&#39;:&#39;hours&#39;}
abbreviation.updateAbbreviation(abbrDict, reset=True)

cleanedText = abbreviation.abbreviationSub(post)
print(cleanedText)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
wo101 wo 102 wo 103 , wo 104 or wo 105 wo 106 or a 107 wrong wo. abcd01d hours- 8hour perform 8-hour repairs if 10-hours required 24hours contingency 24 hours. 1efgh/j08k erect ab-7603 for ijkl-7148 xyza7148abc opgh0248 m-n 100 for wo 84658 1bc/e08d-34r. release clearance 3693 red/replace the a switch. a218-82-9171 - remove insul iso.
</pre></div></div>
</div>
</section>
<section id="Add-a-pipeline-to-label-work-order-ID:-'wo-103'-or-'wo103'">
<h3>Add a pipeline to label work order ID: ‘wo 103’ or ‘wo103’<a class="headerlink" href="#Add-a-pipeline-to-label-work-order-ID:-'wo-103'-or-'wo103'" title="Link to this heading">¶</a></h3>
</section>
<section id="Add-a-pipeline-to-label-ID:-a-combination-of-characters-and-numbers">
<h3>Add a pipeline to label ID: a combination of characters and numbers<a class="headerlink" href="#Add-a-pipeline-to-label-ID:-a-combination-of-characters-and-numbers" title="Link to this heading">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import spacy
from spacy.matcher import Matcher
from spacy import displacy

nlp = spacy.load(&quot;en_core_web_lg&quot;)
matcher = Matcher(nlp.vocab)
pattern = [[{&quot;LOWER&quot;: &quot;wo&quot;}, {&quot;IS_PUNCT&quot;: True, &quot;OP&quot;:&quot;*&quot;}, {&quot;IS_DIGIT&quot;: True}], [{&quot;TEXT&quot;:{&quot;REGEX&quot;:&quot;(?&lt;=wo)\d+&quot;}}]]
matcher.add(&quot;IdentifyWO&quot;, pattern)
doc = nlp(cleanedText)
matches = matcher(doc)
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>for match_id, start, end in matches:
    span = doc[start:end]
    print(span.text)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
wo101
wo 102
wo 103
wo 104
wo 105
wo 106
wo 84658
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>matcher = Matcher(nlp.vocab)
pattern = [[{&quot;TEXT&quot;:{&quot;REGEX&quot;:&quot;(?=\S*[a-zA-Z])(?=\S*[0-9])&quot;}}]]
matcher.add(&quot;IdentifyWO&quot;, pattern)
doc = nlp(cleanedText)
matches = matcher(doc)
for match_id, start, end in matches:
    span = doc[start:end]
    print(span.text)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
wo101
abcd01d
8hour
24hours
1efgh
j08k
ab-7603
ijkl-7148
xyza7148abc
opgh0248
1bc
e08d-34r
a218
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Copyright 2024, Battelle Energy Alliance, LLC  ALL RIGHTS RESERVED.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>