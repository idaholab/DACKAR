<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Preprocessing demo &mdash; DACKAR 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/documentation_options.js?v=2709fde1"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Demo For NLP Workflow: Based on branch wangc/nlp" href="Workflow_Demo.html" />
    <link rel="prev" title="Usage Notebooks" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            DACKAR
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install_spacy3.5.html">Installation with Spacy 3.5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation with Spacy 3.1 (Archived)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Support</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Notebooks</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Preprocessing demo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Text-to-clean-and-numerize">Text to clean and numerize</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Pipeline-creation">Pipeline creation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Coherent-text-example-with-Autocorrect-and-ContextualSpellCheck-spelling-correction">Coherent text example with Autocorrect and ContextualSpellCheck spelling correction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#First-do-text-preprocessing">First do text preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Autocorrect:-Setup">Autocorrect: Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Autocorrect:-Find-acronyms-or-unexpected-misspelled-words">Autocorrect: Find acronyms or unexpected misspelled words</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Autocorrect:-Add-any-additional-words-to-dictionary">Autocorrect: Add any additional words to dictionary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Autocorrect:-Get-automatically-corrected-text">Autocorrect: Get automatically corrected text</a></li>
<li class="toctree-l3"><a class="reference internal" href="#PySpellChecker">PySpellChecker</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ContextualSpellCheck:-Setup">ContextualSpellCheck: Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ContextualSpellCheck:-Find-acronyms-or-unexpected-misspelled-words">ContextualSpellCheck: Find acronyms or unexpected misspelled words</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ContextualSpellCheck:-Add-any-additional-words-to-dictionary">ContextualSpellCheck: Add any additional words to dictionary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ContextualSpellCheck:-Get-automatically-corrected-text">ContextualSpellCheck: Get automatically corrected text</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Time-Autocorrect-workflow">Time Autocorrect workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Time-ContextualSpellCheck-workflow">Time ContextualSpellCheck workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="Workflow_Demo.html">Workflow Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="abbreviationHandlerDemo.html">Abbreviation Handler Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="nlp_custom_pipes.html">Pipelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="test_synset_similarity.html">Similarity Demo</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../autoapi/index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DACKAR</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Usage Notebooks</a></li>
      <li class="breadcrumb-item active">Preprocessing demo</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/notebooks/PreprocessingDemo.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Preprocessing-demo">
<h1>Preprocessing demo<a class="headerlink" href="#Preprocessing-demo" title="Link to this heading">¶</a></h1>
<p>This notebook shows how to use the Postprocessing class for cleaning, numerizing, and spell checking raw data.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import os, sys, time

cwd = os.getcwd()
frameworkDir = os.path.abspath(os.path.join(cwd, os.pardir, &#39;src&#39;))
sys.path.append(frameworkDir)

from dackar.text_processing.Preprocessing import Preprocessing
from dackar.text_processing.Preprocessing import SpellChecker
import warnings
warnings.filterwarnings(&quot;ignore&quot;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Warming up PyWSD (takes ~10 secs)... took 2.4006917476654053 secs.
</pre></div></div>
</div>
<section id="Text-to-clean-and-numerize">
<h2>Text to clean and numerize<a class="headerlink" href="#Text-to-clean-and-numerize" title="Link to this heading">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>text = (&quot;bullet_points:\n&quot;
        &quot;\n‣ item1\n⁃ item2\n⁌ item3\n⁍ item4\n∙ item5\n▪ item6\n● item7\n◦ item8\n&quot;
        &quot;=======================\n&quot;
        &quot;hyphenated_words:\n&quot;
        &quot;I see you shiver with antici- pation.\n&quot;
        &quot;I see you shiver with antici-   \npation.\n&quot;
        &quot;I see you shiver with antici- PATION.\n&quot;
        &quot;I see you shiver with antici- 1pation.\n&quot;
        &quot;I see you shiver with antici pation.\n&quot;
        &quot;I see you shiver with antici-pation.\n&quot;
        &quot;My phone number is 555- 1234.\n&quot;
        &quot;I got an A- on the test.\n&quot;
        &quot;=======================\n&quot;
        &quot;quotation_marks:\n&quot;
        &quot;These are ´funny single quotes´.\n&quot;
        &quot;These are ‘fancy single quotes’.\n&quot;
        &quot;These are “fancy double quotes”.\n&quot;
        &quot;=======================\n&quot;
        &quot;repeating_chars:\n&quot;
        &quot;**Hello**, world!!! I wonder....... How are *you* doing?!?! lololol\n&quot;
        &quot;=======================\n&quot;
        &quot;unicode:\n&quot;
        &quot;Well… That&#39;s a long story.\n&quot;
        &quot;=======================\n&quot;
        &quot;whitespace:\n&quot;
        &quot;Hello,  world!\n&quot;
        &quot;Hello,     world!\n&quot;
        &quot;Hello,\tworld!\n&quot;
        &quot;Hello,\t\t  world!\n&quot;
        &quot;Hello,\n\nworld!\n&quot;
        &quot;Hello,\r\nworld!\n&quot;
        &quot;Hello\uFEFF, world!\n&quot;
        &quot;Hello\u200B\u200B, world!\n&quot;
        &quot;Hello\uFEFF,\n\n\nworld   !  \n&quot;
        &quot;=======================\n&quot;
        &quot;accents:\n&quot;
        &quot;El niño se asustó del pingüino -- qué miedo!\n&quot;
        &quot;Le garçon est très excité pour la forêt.\n&quot;
        &quot;=======================\n&quot;
        &quot;brackets:\n&quot;
        &quot;Hello, {name}!\n&quot;
        &quot;Hello, world (DeWilde et al., 2021, p. 42)!\n&quot;
        &quot;Hello, world (1)!\n&quot;
        &quot;Hello, world [1]!\n&quot;
        &quot;Hello, world (and whomever it may concern [not that it&#39;s any of my business])!\n&quot;
        &quot;Hello, world (and whomever it may concern (not that it&#39;s any of my business))!\n&quot;
        &quot;Hello, world (and whomever it may concern [not that it&#39;s any of my business])!\n&quot;
        &quot;Hello, world [1]!\n&quot;
        &quot;Hello, world [1]!\n&quot;
        &quot;=======================\n&quot;
        &quot;html_tags:\n&quot;
        &quot;Hello, &lt;i&gt;world!&lt;/i&gt;\n&quot;
        &quot;&lt;title&gt;Hello, world!&lt;/title&gt;\n&quot;
        &#39;&lt;title class=&quot;foo&quot;&gt;Hello, world!&lt;/title&gt;\n&#39;
        &quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;Hello, &lt;i&gt;world!&lt;/i&gt;&lt;/title&gt;&lt;/head&gt;&lt;/html&gt;\n&quot;
            &quot;&lt;html&gt;\n&quot;
            &quot;  &lt;head&gt;\n&quot;
            &#39;    &lt;title class=&quot;foo&quot;&gt;Hello, &lt;i&gt;world!&lt;/i&gt;&lt;/title&gt;\n&#39;
            &quot;  &lt;/head&gt;\n&quot;
            &quot;  &lt;!--this is a comment--&gt;\n&quot;
            &quot;  &lt;body&gt;\n&quot;
            &quot;    &lt;p&gt;How&#39;s it going?&lt;/p&gt;\n&quot;
            &quot;  &lt;/body&gt;\n&quot;
            &quot;&lt;/html&gt;\n&quot;
        &quot;=======================\n&quot;
        &quot;punctuation:\n&quot;
        &quot;I can&#39;t. No, I won&#39;t! It&#39;s a matter of \&quot;principle\&quot;; of -- what&#39;s the word? -- conscience.\n&quot;
        &quot;=======================\n&quot;
        &quot;currency_symbols:\n&quot;
        &quot;$1.00 equals 100¢.\n&quot;
        &quot;How much is ¥100 in £?\n&quot;
        &quot;My password is 123$abc฿.\n&quot;
        &quot;=======================\n&quot;
        &quot;emails:\n&quot;
        &quot;Reach out at username@example.com.\n&quot;
        &quot;Click here: mailto:username@example.com.\n&quot;
        &quot;=======================\n&quot;
        &quot;emoji:\n&quot;
        &quot;ugh, it&#39;s raining *again* ☔\n&quot;
        &quot;✌ tests are passing ✌\n&quot;
        &quot;=======================\n&quot;
        &quot;hashtags:\n&quot;
        &quot;like omg it&#39;s #ThrowbackThursday\n&quot;
        &quot;#TextacyIn4Words: \&quot;but it&#39;s honest work\&quot;\n&quot;
        &quot;wth twitter #ican&#39;teven #why-even-try\n&quot;
        &quot;www.foo.com#fragment is not a hashtag\n&quot;
        &quot;=======================\n&quot;
        &quot;numbers:\n&quot;
        &quot;I owe $1,000.99 to 123 people for 2 +1 reasons.\n&quot;
        &quot;=======================\n&quot;
        &quot;phone_numbers:\n&quot;
        &quot;I can be reached at 555-123-4567 through next Friday.\n&quot;
        &quot;=======================\n&quot;
        &quot;urls:\n&quot;
        &quot;I learned everything I know from www.stackoverflow.com and http://wikipedia.org/ and Mom.\n&quot;
        &quot;=======================\n&quot;
        &quot;user_handles:\n&quot;
        &quot;@Real_Burton_DeWilde: definitely not a bot\n&quot;
        &quot;wth twitter @b.j.dewilde\n&quot;
        &quot;foo@bar.com is not a user handle\n&quot;
        &quot;=======================\n&quot;
        &quot;numerize:\n&quot;
        &quot;forty-two\n&quot;
        &quot;four hundred and sixty two\n&quot;
        &quot;one fifty\n&quot;
        &quot;twelve hundred\n&quot;
        &quot;twenty one thousand four hundred and seventy three\n&quot;
        &quot;one billion and one\n&quot;
        &quot;nine and three quarters\n&quot;
)
</pre></div>
</div>
</div>
</section>
<section id="Pipeline-creation">
<h2>Pipeline creation<a class="headerlink" href="#Pipeline-creation" title="Link to this heading">¶</a></h2>
<p>Preprocessing requires a list of all desired preprocessors and a dictionary containing any additional options from textacy. The main keys of the options dictionary correspond to the name of the preprocessor. See the Text Preprocessing section from <a class="reference external" href="https://textacy.readthedocs.io/en/latest/">https://textacy.readthedocs.io/en/latest/</a> for available options.</p>
<p>This example pipeline includes all of the textacy preprocessors and numerize. Unexpected behavior may happen when using all of the textacy preprocessors, depending on the ordering which they are applied.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>preprocessorList = [&#39;bullet_points&#39;,
                    &#39;hyphenated_words&#39;,
                    &#39;quotation_marks&#39;,
                    &#39;repeating_chars&#39;,
                    &#39;unicode&#39;,
                    &#39;whitespace&#39;,
                    &#39;accents&#39;,
                    &#39;brackets&#39;,
                    &#39;html_tags&#39;,
                    &#39;punctuation&#39;,
                    &#39;currency_symbols&#39;,
                    &#39;emails&#39;,
                    &#39;emojis&#39;,
                    &#39;hashtags&#39;,
                    &#39;numbers&#39;,
                    &#39;phone_numbers&#39;,
                    &#39;urls&#39;,
                    &#39;user_handles&#39;,
                    &#39;numerize&#39;]
preprocessorOptions = {&#39;repeating_chars&#39;: {&#39;chars&#39;: &#39;ol&#39;, &#39;maxn&#39;: 2},
                       &#39;unicode&#39;: {&#39;form&#39;: &#39;NFKC&#39;},
                       &#39;accents&#39;: {&#39;fast&#39;: False},
                       &#39;brackets&#39;: {&#39;only&#39;: &#39;square&#39;},
                       &#39;punctuation&#39;: {&#39;only&#39;: &#39;\&#39;&#39;}}
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>preprocess = Preprocessing(preprocessorList, preprocessorOptions)
post = preprocess(text)
print(post)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
bullet_points:
  item1
  item2
  item3
  item4
  item5
  item6
  item7
  item8
=======================
hyphenated_words:
I see you shiver with anticipation.
I see you shiver with anticipation.
I see you shiver with anticiPATION.
I see you shiver with antici  1pation.
I see you shiver with antici pation.
I see you shiver with antici pation.
My phone number is _NUMBER_  _NUMBER_.
I got an 1  on the test.
=======================
quotation_marks:
These are funny single quotes .
These are fancy single quotes .
These are &#34;fancy double quotes&#34;.
=======================
repeating_chars:
**Hello**, world!!! I wonder....... How are *you* doing?!?! lolol
=======================
unicode:
Well... That s a long story.
=======================
whitespace:
Hello, world!
Hello, world!
Hello, world!
Hello, world!
Hello,
world!
Hello,
world!
Hello, world!
Hello, world!
Hello,
world !
=======================
accents:
El nino se asusto del pinguino -  que miedo!
Le garcon est tres excite pour la foret.
=======================
brackets:
Hello, {name}!
Hello, world (DeWilde et al., _NUMBER_, p. _NUMBER_)!
Hello, world (_NUMBER_)!
Hello, world !
Hello, world (and whomever it may concern )!
Hello, world (and whomever it may concern (not that it s any of my business))!
Hello, world (and whomever it may concern )!
Hello, world !
Hello, world !
=======================
html_tags:
Hello, world!
Hello, world!
Hello, world!
Hello, world!


 Hello, world!



 How s it going?


=======================
punctuation:
I can t. No, I won t! It s a matter of &#34;principle&#34;; of -  what s the word? -  conscience.
=======================
currency_symbols:
_CUR_1.00 equals 100_CUR_.
How much is _CUR_100 in _CUR_?
My password is 123_CUR_abc_CUR_.
=======================
emails:
Reach out at username at example.com.
Click here: mailto:username at example.com.
=======================
emoji:
ugh, it s raining *again* _EMOJI_
_EMOJI_ tests are passing _EMOJI_
=======================
hashtags:
like omg it s _TAG_
_TAG_: &#34;but it s honest work&#34;
wth twitter _TAG_ teven _TAG_ even try
_URL_#fragment is not a hashtag
=======================
numbers:
I owe _CUR_1,000.99 to _NUMBER_ people for _NUMBER_ _NUMBER_ reasons.
=======================
phone_numbers:
I can be reached at _NUMBER_ _NUMBER_ _NUMBER_ through next Friday.
=======================
urls:
I learned everything I know from _URL_ and _URL_ and Mom.
=======================
user_handles:
 at Real_Burton_DeWilde: definitely not a bot
wth twitter at b.j.dewilde
foo at bar.com is not a user handle
=======================
numerize:
42
462
150
1200
21473
1000000001
9.75
</pre></div></div>
</div>
</section>
</section>
<section id="Coherent-text-example-with-Autocorrect-and-ContextualSpellCheck-spelling-correction">
<h1>Coherent text example with Autocorrect and ContextualSpellCheck spelling correction<a class="headerlink" href="#Coherent-text-example-with-Autocorrect-and-ContextualSpellCheck-spelling-correction" title="Link to this heading">¶</a></h1>
<p>The text was taken from data/raw_text.txt and modified to have spelling mistakes and other items to clean up.</p>
<p>Note that numerizer automatically changes the first “A” to “1” and cannot be avoided.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>text = (&quot;A laek was noticed from the RCP pump 1A.\n&quot;
        &quot;A light was unplugged.\n&quot;
        &quot;RCP pump 1A presure gauge was found not operating.\n&quot;
        &quot;RCP pump 1A pressure gauge was found inoperative.\n&quot;
        &quot;RCP pump 1A had signs of past leakage.\n&quot;
        &quot;The Pump is not experiencing enough flow druing test.\n&quot;
        &quot;Slight Vibrations is noticed - likely from pump shaft deflection.\n&quot;
        &quot;Pump flow meter was not responding.\n&quot;
        &quot;Rupture of pump bearings caused pump shaft degradation.\n&quot;
        &quot;Rupture of pump bearings caused pump shaft degradation and consequent flow reduction.\n&quot;
        &quot;Power supply has been found burnout.\n&quot;
        &quot;Pump test failed due to power supply failure.\n&quot;
        &quot;Pump inspection revieled excessive impeller degradation.\n&quot;
        &quot;Pump inspection revealed exessive impeller degradation likely due to cavitation.\n&quot;
        &quot;Oil puddle was found in proximity of RCP pump 1A.\n&quot;
        &quot;Anomalous vibrations were observed for RCP pump 1A.\n&quot;
        &quot;Three cracks on pump shaft were observed; they could have caused pump failure within four days.\n&quot;
        &quot;RCP pump 1A was cavitating and vibrating to some degree during test.\n&quot;
        &quot;This is most likely due to low flow conditions rather than mechanical issues.\n&quot;
        &quot;Cavitation was noticed but did not seem severe.\n&quot;
        &quot;The pump shaft vibration appears to be causing the motor to vibrate as well.\n&quot;
        &quot;Pump had noise of cavitation which became faint after OPS bled off the air. Low flow conditions most likely causing cavit-\n&quot;
        &quot;ation.\n&quot;
        &quot;The pump shaft deflection is causing the safety cage to rattle.\n&quot;
        &quot;The Pump is not experiencing enough flow for the pumps to keep the check valves open during test.\n&quot;
        &quot;Pump shaft made noise.\n&quot;
        &quot;Vibration seems like it is coming from the pump shaft.\n&quot;
        &quot;Visible pump shaft deflection in operation.\n&quot;
        &quot;Pump bearings appear in acceptable condition.\n&quot;
        &quot;Pump made noises - not enough to affect performance.\n&quot;
        &quot;Pump shaft has a slight deflection.\n&quot;
        &quot;Prfr chann calib.\n&quot;
)
</pre></div>
</div>
</div>
<section id="First-do-text-preprocessing">
<h2>First do text preprocessing<a class="headerlink" href="#First-do-text-preprocessing" title="Link to this heading">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>preprocessorList = [&#39;hyphenated_words&#39;,
                    &#39;whitespace&#39;,
                    &#39;numerize&#39;]
preprocessorOptions = {}
preprocess = Preprocessing(preprocessorList, preprocessorOptions)
post = preprocess(text)
</pre></div>
</div>
</div>
</section>
<section id="Autocorrect:-Setup">
<h2>Autocorrect: Setup<a class="headerlink" href="#Autocorrect:-Setup" title="Link to this heading">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>checker = SpellChecker(checker=&#39;autocorrect&#39;)
</pre></div>
</div>
</div>
</section>
<section id="Autocorrect:-Find-acronyms-or-unexpected-misspelled-words">
<h2>Autocorrect: Find acronyms or unexpected misspelled words<a class="headerlink" href="#Autocorrect:-Find-acronyms-or-unexpected-misspelled-words" title="Link to this heading">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>checker.getMisspelledWords(post)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;1&#39;,
 &#39;laek&#39;,
 &#39;1A&#39;,
 &#39;1A&#39;,
 &#39;presure&#39;,
 &#39;1A&#39;,
 &#39;1A&#39;,
 &#39;druing&#39;,
 &#39;Rupture&#39;,
 &#39;Rupture&#39;,
 &#39;revieled&#39;,
 &#39;exessive&#39;,
 &#39;1A&#39;,
 &#39;1A&#39;,
 &#39;3&#39;,
 &#39;4&#39;,
 &#39;1A&#39;,
 &#39;Cavitation&#39;,
 &#39;Prfr&#39;,
 &#39;chann&#39;,
 &#39;calib&#39;]
</pre></div></div>
</div>
</section>
<section id="Autocorrect:-Add-any-additional-words-to-dictionary">
<h2>Autocorrect: Add any additional words to dictionary<a class="headerlink" href="#Autocorrect:-Add-any-additional-words-to-dictionary" title="Link to this heading">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>words = [&#39;OPS&#39;, &#39;RCP&#39;]
checker.addWordsToDictionary(words)
</pre></div>
</div>
</div>
</section>
<section id="Autocorrect:-Get-automatically-corrected-text">
<h2>Autocorrect: Get automatically corrected text<a class="headerlink" href="#Autocorrect:-Get-automatically-corrected-text" title="Link to this heading">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>corrected = checker.correct(post)
print(corrected)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1 lack was noticed from the RCP pump 1A.
A light was unplugged.
RCP pump 1A pressure gauge was found not operating.
RCP pump 1A pressure gauge was found inoperative.
RCP pump 1A had signs of past leakage.
The Pump is not experiencing enough flow during test.
Slight Vibrations is noticed - likely from pump shaft deflection.
Pump flow meter was not responding.
Rupture of pump bearings caused pump shaft degradation.
Rupture of pump bearings caused pump shaft degradation and consequent flow reduction.
Power supply has been found burnout.
Pump test failed due to power supply failure.
Pump inspection reviewed excessive impeller degradation.
Pump inspection revealed excessive impeller degradation likely due to cavitation.
Oil puddle was found in proximity of RCP pump 1A.
Anomalous vibrations were observed for RCP pump 1A.
3 cracks on pump shaft were observed; they could have caused pump failure within 4 days.
RCP pump 1A was cavitating and vibrating to some degree during test.
This is most likely due to low flow conditions rather than mechanical issues.
Cavitation was noticed but did not seem severe.
The pump shaft vibration appears to be causing the motor to vibrate as well.
Pump had noise of cavitation which became faint after OPS bled off the air. Low flow conditions most likely causing cavitation.
The pump shaft deflection is causing the safety cage to rattle.
The Pump is not experiencing enough flow for the pumps to keep the check valves open during test.
Pump shaft made noise.
Vibration seems like it is coming from the pump shaft.
Visible pump shaft deflection in operation.
Pump bearings appear in acceptable condition.
Pump made noises - not enough to affect performance.
Pump shaft has a slight deflection.
Pfr chain club.
</pre></div></div>
</div>
</section>
<section id="PySpellChecker">
<h2>PySpellChecker<a class="headerlink" href="#PySpellChecker" title="Link to this heading">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from dackar.text_processing.Preprocessing import SpellChecker
checker = SpellChecker(checker=&#39;pyspellchecker&#39;)
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>checker.getMisspelledWords(post)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;1a&#39;,
 &#39;calib&#39;,
 &#39;chann&#39;,
 &#39;druing&#39;,
 &#39;exessive&#39;,
 &#39;laek&#39;,
 &#39;presure&#39;,
 &#39;prfr&#39;,
 &#39;rcp&#39;,
 &#39;revieled&#39;}
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>words = [&#39;OPS&#39;, &#39;RCP&#39;]
checker.addWordsToDictionary(words)
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>corrected = checker.correct(post)
print(corrected)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1 lack was noticed from the RCP pump 1A.
A light was unplugged.
RCP pump 1A pressure gauge was found not operating.
RCP pump 1A pressure gauge was found inoperative.
RCP pump 1A had signs of past leakage.
The Pump is not experiencing enough flow during test.
Slight Vibrations is noticed - likely from pump shaft deflection.
Pump flow meter was not responding.
Rupture of pump bearings caused pump shaft degradation.
Rupture of pump bearings caused pump shaft degradation and consequent flow reduction.
Power supply has been found burnout.
Pump test failed due to power supply failure.
Pump inspection reviewed excessive impeller degradation.
Pump inspection revealed excessive impeller degradation likely due to cavitation.
Oil puddle was found in proximity of RCP pump 1A.
Anomalous vibrations were observed for RCP pump 1A.
3 cracks on pump shaft were observed; they could have caused pump failure within 4 days.
RCP pump 1A was cavitating and vibrating to some degree during test.
This is most likely due to low flow conditions rather than mechanical issues.
Cavitation was noticed but did not seem severe.
The pump shaft vibration appears to be causing the motor to vibrate as well.
Pump had noise of cavitation which became faint after OPS bled off the air. Low flow conditions most likely causing cavitation.
The pump shaft deflection is causing the safety cage to rattle.
The Pump is not experiencing enough flow for the pumps to keep the check valves open during test.
Pump shaft made noise.
Vibration seems like it is coming from the pump shaft.
Visible pump shaft deflection in operation.
Pump bearings appear in acceptable condition.
Pump made noises - not enough to affect performance.
Pump shaft has a slight deflection.
poor chain calif.
</pre></div></div>
</div>
</section>
<section id="ContextualSpellCheck:-Setup">
<h2>ContextualSpellCheck: Setup<a class="headerlink" href="#ContextualSpellCheck:-Setup" title="Link to this heading">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># checker = SpellChecker(checker=&#39;ContextualSpellCheck&#39;)
</pre></div>
</div>
</div>
</section>
<section id="ContextualSpellCheck:-Find-acronyms-or-unexpected-misspelled-words">
<h2>ContextualSpellCheck: Find acronyms or unexpected misspelled words<a class="headerlink" href="#ContextualSpellCheck:-Find-acronyms-or-unexpected-misspelled-words" title="Link to this heading">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># checker.getMisspelledWords(post)
</pre></div>
</div>
</div>
</section>
<section id="ContextualSpellCheck:-Add-any-additional-words-to-dictionary">
<h2>ContextualSpellCheck: Add any additional words to dictionary<a class="headerlink" href="#ContextualSpellCheck:-Add-any-additional-words-to-dictionary" title="Link to this heading">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># words = [&#39;RCP&#39;, &#39;OPS&#39;, &#39;consequent&#39;, &#39;1A&#39;, &#39;unplugged&#39;]
# checker.addWordsToDictionary(words)
</pre></div>
</div>
</div>
</section>
<section id="ContextualSpellCheck:-Get-automatically-corrected-text">
<h2>ContextualSpellCheck: Get automatically corrected text<a class="headerlink" href="#ContextualSpellCheck:-Get-automatically-corrected-text" title="Link to this heading">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># corrected = checker.correct(post)
# print(corrected)
</pre></div>
</div>
</div>
</section>
</section>
<section id="Time-Autocorrect-workflow">
<h1>Time Autocorrect workflow<a class="headerlink" href="#Time-Autocorrect-workflow" title="Link to this heading">¶</a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>tic = time.time()
preprocessorList = [&#39;hyphenated_words&#39;,
                    &#39;whitespace&#39;,
                    &#39;numerize&#39;]
preprocessorOptions = {}
preprocess = Preprocessing(preprocessorList, preprocessorOptions)
post = preprocess(text)
checker = SpellChecker(checker=&#39;autocorrect&#39;)
words = [&#39;OPS&#39;, &#39;RCP&#39;]
checker.addWordsToDictionary(words)
corrected = checker.correct(post)
print(f&#39;autocorrect time: {time.time() - tic} s&#39;)
print(&#39;===============================================================&#39;)
print(corrected)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
autocorrect time: 0.049269914627075195 s
===============================================================
1 lack was noticed from the RCP pump 1A.
A light was unplugged.
RCP pump 1A pressure gauge was found not operating.
RCP pump 1A pressure gauge was found inoperative.
RCP pump 1A had signs of past leakage.
The Pump is not experiencing enough flow during test.
Slight Vibrations is noticed - likely from pump shaft deflection.
Pump flow meter was not responding.
Rupture of pump bearings caused pump shaft degradation.
Rupture of pump bearings caused pump shaft degradation and consequent flow reduction.
Power supply has been found burnout.
Pump test failed due to power supply failure.
Pump inspection reviewed excessive impeller degradation.
Pump inspection revealed excessive impeller degradation likely due to cavitation.
Oil puddle was found in proximity of RCP pump 1A.
Anomalous vibrations were observed for RCP pump 1A.
3 cracks on pump shaft were observed; they could have caused pump failure within 4 days.
RCP pump 1A was cavitating and vibrating to some degree during test.
This is most likely due to low flow conditions rather than mechanical issues.
Cavitation was noticed but did not seem severe.
The pump shaft vibration appears to be causing the motor to vibrate as well.
Pump had noise of cavitation which became faint after OPS bled off the air. Low flow conditions most likely causing cavitation.
The pump shaft deflection is causing the safety cage to rattle.
The Pump is not experiencing enough flow for the pumps to keep the check valves open during test.
Pump shaft made noise.
Vibration seems like it is coming from the pump shaft.
Visible pump shaft deflection in operation.
Pump bearings appear in acceptable condition.
Pump made noises - not enough to affect performance.
Pump shaft has a slight deflection.
Pfr chain club.
</pre></div></div>
</div>
</section>
<section id="Time-ContextualSpellCheck-workflow">
<h1>Time ContextualSpellCheck workflow<a class="headerlink" href="#Time-ContextualSpellCheck-workflow" title="Link to this heading">¶</a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># tic = time.time()
# preprocessorList = [&#39;hyphenated_words&#39;,
#                     &#39;whitespace&#39;,
#                     &#39;numerize&#39;]
# preprocessorOptions = {}
# preprocess = Preprocessing(preprocessorList, preprocessorOptions)
# post = preprocess(text)
# checker = SpellChecker(checker=&#39;ContextualSpellCheck&#39;)
# words = [&#39;RCP&#39;, &#39;OPS&#39;, &#39;consequent&#39;, &#39;1A&#39;]
# checker.addWordsToDictionary(words)
# corrected = checker.correct(post)
# print(f&#39;ContextualSpellCheck time: {time.time() - tic} s&#39;)
# print(&#39;==============================================================&#39;)
# print(corrected)
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>post = &quot;Prfr chann calib of chan&quot;
checker = SpellChecker(checker=&#39;autocorrect&#39;)
checker.getMisspelledWords(post)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;Prfr&#39;, &#39;chann&#39;, &#39;calib&#39;]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Usage Notebooks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Workflow_Demo.html" class="btn btn-neutral float-right" title="Demo For NLP Workflow: Based on branch wangc/nlp" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Copyright 2024, Battelle Energy Alliance, LLC  ALL RIGHTS RESERVED.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>