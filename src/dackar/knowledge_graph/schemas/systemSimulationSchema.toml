
title = "System Simulation Schema"
version = 1.1

# ====================
# Node Entities
# ====================

[node.simulation_model]
node_description = "A digital representation of a system or subsystem used to simulate behavior under specified conditions."
node_properties = [
  { name = "model_name", type = "string", optional = false, description = "Name or identifier of the simulation model" },
  { name = "model_type", type = "string", optional = false, description = "Type of model (e.g., thermal, structural, probabilistic)" },
  { name = "version", type = "string", optional = true, description = "Version or revision of the model" },
  { name = "author", type = "string", optional = true, description = "Model developer or owner" }
]

[node.simulation_code]
node_description = "The computational engine or software framework used to execute the simulation model."
node_properties = [
  { name = "code_name", type = "string", optional = false, description = "Name of the simulation code (e.g., RELAP5, OpenFOAM, COMSOL)" },
  { name = "version", type = "string", optional = true, description = "Version of the code used" },
  { name = "developer", type = "string", optional = true, description = "Organization or team responsible for the code" },
  { name = "license_type", type = "string", optional = true, description = "License or usage restriction (e.g., open-source, proprietary)" }
]

[node.simulation_input]
node_description = "A configuration or data file that defines the initial conditions, parameters, and stimuli for a simulation run."
node_properties = [
  { name = "input_id", type = "string", optional = false, description = "Unique identifier for the input file" },
  { name = "format", type = "string", optional = true, description = "File format (e.g., JSON, XML, CSV)" },
  { name = "parameters", type = "string", optional = true, description = "Key parameters or settings used in the simulation" },
  { name = "linked_requirements", type = "string", optional = true, description = "Requirements or specs that the input supports" }
]

[node.simulation_result]
node_description = "The output generated from a simulation run, including performance metrics, plots, or failure predictions."
node_properties = [
  { name = "result_id", type = "string", optional = false, description = "Unique identifier for the result set" },
  { name = "output_format", type = "string", optional = true, description = "Format of the result (e.g., CSV, HDF5, PDF)" },
  { name = "summary", type = "string", optional = true, description = "Brief description of the simulation outcome" },
  { name = "timestamp", type = "string", optional = true, description = "Date and time the simulation was executed" },
  { name = "validated", type = "boolean", optional = true, description = "Whether the result has been validated or reviewed" }
]

# ====================
# Relationships
# ====================

[relation.simulated_by]
relation_description = "Links a system or subsystem to the simulation model used to represent it."
from_entity = "mbse_entity"
to_entity = "simulation_model"
relation_properties = [
  { name = "fidelity_level", type = "string", optional = true, description = "Level of detail (e.g., high, medium, low)" }
]

[relation.executed_by]
relation_description = "Connects a simulation model to the simulation code used to run it."
from_entity = "simulation_model"
to_entity = "simulation_code"
relation_properties = [
  { name = "execution_environment", type = "string", optional = true, description = "Platform or environment used (e.g., HPC cluster, local machine)" }
]

[relation.configured_by]
relation_description = "Connects a simulation model to the input file used to configure a specific run."
from_entity = "simulation_model"
to_entity = "simulation_input"
relation_properties = [
  { name = "run_id", type = "string", optional = true, description = "Identifier for the simulation run" }
]

[relation.generates]
relation_description = "Links a simulation input to the result it produces after execution."
from_entity = "simulation_input"
to_entity = "simulation_result"
relation_properties = [
  { name = "execution_time", type = "string", optional = true, description = "Duration of the simulation run" }
]
