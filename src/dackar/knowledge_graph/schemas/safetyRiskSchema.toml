
title = "Safety and Risk Graph Schema"
version = 1.0

# ====================
# Node Entities
# ====================

[node.basic_event]
node_description = "A fundamental event in a fault tree representing a component failure or human error with an associated probability."
properties = [
  { name = "description", type = "string", optional = false, description = "Narrative of the event" },
  { name = "value", type = "floating", optional = false, description = "Probability or frequency of occurrence" },
  { name = "unit",  type = "string", optional = false, description = "Unit of the probability or frequency (e.g., per year)" }
]

[node.failure_mode]
node_description = "A specific manner or mode in which a component or system can fail, used in FMEA to assess risk."
properties = [
  { name = "failure mode description", type = "string", optional = false, description = "Description of the failure mechanism" },
  { name = "failure cause", type = "string", optional = true, description = "Root cause of the failure" },
  { name = "failure effect", type = "string", optional = true, description = "Impact of the failure on the system or mission" },
  { name = "likelihood of occurrence", type = "floating", optional = true, description = "Estimated probability of the failure mode" },
  { name = "likelihood of detection", type = "floating", optional = true, description = "Probability that the failure will be detected before it causes harm" },
  { name = "severity", type = "floating", optional = true, description = "Impact severity score (e.g., 1â€“10)" },
  { name = "current controls", type = "string", optional = true, description = "Existing mitigation or detection mechanisms" }
]

[node.fault_tree]
node_description = "A logical model representing how basic events combine to cause a top-level system failure."
properties = [
  { name = "top event", type = "string", optional = false, description = "The undesired event being analyzed" },
  { name = "gate type", type = "string", optional = false, description = "Logical gate type (e.g., AND, OR)" }
]

[node.event_tree]
node_description = "A forward logic model used in PRA to evaluate possible outcomes following an initiating event."
properties = [
  { name = "initiating event", type = "string", optional = false, description = "Triggering event for the sequence" },
  { name = "sequence outcome", type = "string", optional = false, description = "End state or consequence of the sequence" }
]

[node.initiating_event]
node_description = "An event that initiates a sequence of events potentially leading to an accident or system failure."
properties = [
  { name = "event description", type = "string", optional = false, description = "Narrative of the initiating event" },
  { name = "frequency", type = "floating", optional = false, description = "Expected frequency of the event" },
  { name = "unit", type = "string", optional = false, description = "Unit of frequency (e.g., per year)" }
]

# ====================
# Relationships
# ====================

[relation.subject_to]
relation_description = "Links an MBSE entity (e.g., component or function) to its associated failure mode."
from_entity = "mbse_entity"
to_entity = "failure_mode"

[relation.represented_in_PRA_by]
relation_description = "Maps a failure mode to a basic event used in PRA quantification."
from_entity = "failure_mode"
to_entity = "basic_event"

[relation.modeled_in_PRA_by]
relation_description = "Connects an initiating event to its corresponding event tree model."
from_entity = "initiating_event"
to_entity = "event_tree"

[relation.sequence_expanded_by]
relation_description = "Links an event tree to another event tree that further expands a sequence branch."
from_entity = "event_tree"
to_entity = "event_tree"

[relation.dictate_branching_in]
relation_description = "Indicates that an initiating event determines the branching logic in a fault tree."
from_entity = "initiating_event"
to_entity = "fault_tree"

[relation.called_in_PRA_in]
relation_description = "Shows that a basic event is used within a fault tree structure."
from_entity = "basic_event"
to_entity = "fault_tree"
