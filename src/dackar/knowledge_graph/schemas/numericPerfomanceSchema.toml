title = "Numeric Perfomance Record Graph Schema"
version = 1.0

# ====================
# Node Entities
# ====================

[node.anomaly]
node_description =   """Represents a specific occurrence of an anomaly (such as threshold 
                        violations, signal deviations, or unexpected patterns) associated 
                        with a particular component, equipment, or system that have been 
                        detected by monitoring sensors coupled with an anomaly detection 
                        algorithm."""

node_properties = [
    { name = "t_detection", type = "datetime", optional = false, description = 'The timestamp marking the moment the system first identified the presence of an anomaly.' },
    { name = "t_final",     type = "datetime", optional = true,  description = 'The timestamp indicating when the system no longer identified the anomaly as present.' },
]

[node.diagnostic_assessment]
node_description = """Represents an evaluation of the current health or operational state of a system, component, or equipment, typically based on observed data, anomalies, and expert or algorithmic reasoning."""

node_properties = [
    { name = "ID", type = "string", optional = false, description = "Unique identifier for the diagnostic assessment" },
    { name = "timestamp", type = "datetime", optional = false, description = "Time when the diagnostic assessment was performed" },
    { name = "method", type = "string", optional = true, description = "Method or algorithm used for the diagnostic assessment" },
    { name = "result", type = "string", optional = false, description = "Summary of the diagnostic conclusion (e.g., fault detected, normal operation)" },
    { name = "confidence", type = "float", optional = true, description = "Confidence level or probability associated with the diagnostic result" }
]

[node.prognostic_assessment]
node_description = """Represents a prediction about the future health, performance, or failure likelihood of a system or component, based on current data, degradation models, or predictive analytics."""

node_properties = [
    { name = "ID", type = "string", optional = false, description = "Unique identifier for the prognostic assessment" },
    { name = "timestamp", type = "datetime", optional = false, description = "Time when the prognostic assessment was performed" },
    { name = "method", type = "string", optional = true, description = "Method or model used for the prognostic assessment" },
    { name = "predicted_failure_time", type = "datetime", optional = true, description = "Estimated time of failure or performance degradation" },
    { name = "remaining_useful_life", type = "float", optional = true, description = "Estimated remaining useful life (RUL) in hours/days/etc." },
    { name = "confidence", type = "float", optional = true, description = "Confidence level or uncertainty associated with the prediction" }
]

# ====================
# Relationships
# ====================

[relation.detected_by]
relation_description =   """Defines a semantic relationship indicating that a detected anomaly 
                            (such as a deviation from expected operational behavior) was identified 
                            through the observation or analysis of a specific monitoring variable. 
                            This link establishes traceability between the anomaly instance and the 
                            physical variable that triggered its detection."""
from_entity = "anomaly"
to_entity = "monitored_variable"


[relation.diagnoses]
relation_description = """Indicates that a diagnostic assessment is associated with a specific anomaly or monitored variable."""
from_entity = "diagnostic_assessment"
to_entity = "anomaly"

[relation.prognosticates]
relation_description = """Indicates that a prognostic assessment is associated with a specific MBSE entity or monitored variable, predicting its future state."""
from_entity = "prognostic_assessment"
to_entity = "mbse_entity"

[relation.based_on]
relation_description = """Indicates that a diagnostic or prognostic assessment is based on data from a monitored variable."""
from_entity = "diagnostic_assessment"
to_entity = "monitored_variable"

[relation.based_on]
relation_description = """Indicates that a prognostic assessment is based on data from a monitored variable."""
from_entity = "prognostic_assessment"
to_entity = "monitored_variable"
