
title = "Equipment Operational Context Schema"
version = 1.1

# ====================
# Node Entities
# ====================

[node.monitoring_configuration]
node_description = "Defines the set of sensors, thresholds, and data acquisition parameters used to monitor equipment health and performance."
node_properties = [
  { name = "sensor_type", type = "string", optional = false, description = "Type of sensor used (e.g., vibration, temperature, pressure)" },
  { name = "sampling_rate", type = "floating", optional = true, description = "Data acquisition rate in Hz" },
  { name = "thresholds", type = "string", optional = true, description = "Trigger values for alerts or alarms" },
  { name = "data_stream_id", type = "string", optional = true, description = "Identifier for the data stream or channel" },
  { name = "monitoring_mode", type = "string", optional = true, description = "Mode of operation (e.g., continuous, periodic)" }
]

[node.surveillance_activity]
node_description = "Represents a planned or ongoing surveillance activity to verify equipment condition, performance, or compliance with operational requirements."
node_properties = [
  { name = "activity_type", type = "string", optional = false, description = "Type of surveillance (e.g., visual inspection, NDE, walkdown)" },
  { name = "frequency", type = "string", optional = true, description = "Scheduled frequency (e.g., monthly, quarterly)" },
  { name = "method", type = "string", optional = true, description = "Technique or standard used (e.g., ASME, ISO)" },
  { name = "responsible_party", type = "string", optional = true, description = "Team or role accountable for execution" },
  { name = "last_performed", type = "string", optional = true, description = "Date of last completed surveillance" }
]

[node.maintenance_strategy]
node_description = "Describes the approach used to maintain the equipment, including preventive, predictive, or condition-based strategies."
node_properties = [
  { name = "strategy_type", type = "string", optional = false, description = "Type of strategy (e.g., preventive, predictive, corrective)" },
  { name = "interval", type = "string", optional = true, description = "Scheduled interval or condition for maintenance" },
  { name = "trigger_condition", type = "string", optional = true, description = "Condition or event that triggers maintenance" },
  { name = "responsible_team", type = "string", optional = true, description = "Team or role responsible for execution" },
  { name = "tools_required", type = "string", optional = true, description = "List of tools or systems needed" }
]

[node.lifecycle_plan]
node_description = "Captures the planned phases of an equipment's life, from commissioning to decommissioning, including upgrades and replacements."
node_properties = [
  { name = "phase", type = "string", optional = false, description = "Lifecycle phase (e.g., commissioning, operation, upgrade, retirement)" },
  { name = "start_date", type = "string", optional = true, description = "Planned start date of the phase" },
  { name = "end_date", type = "string", optional = true, description = "Planned end date of the phase" },
  { name = "justification", type = "string", optional = true, description = "Rationale for phase transition or timing" },
  { name = "linked_documents", type = "string", optional = true, description = "References to supporting documents (e.g., FSAR, tech specs)" }
]

# ====================
# Relationships
# ====================

[relation.monitored_by]
relation_description = "Links an equipment or component to its associated monitoring configuration."
from_entity = "mbse_entity"
to_entity = "monitoring_configuration"
relation_properties = [
  { name = "active", type = "boolean", optional = true, description = "Whether the configuration is currently active" }
]

[relation.surveilled_by]
relation_description = "Associates an equipment or component with a surveillance activity used to verify its condition or compliance."
from_entity = "mbse_entity"
to_entity = "surveillance_activity"
relation_properties = [
  { name = "status", type = "string", optional = true, description = "Current status (e.g., scheduled, completed, overdue)" }
]

[relation.maintained_by]
relation_description = "Associates an equipment or component with its maintenance strategy."
from_entity = "mbse_entity"
to_entity = "maintenance_strategy"
relation_properties = [
  { name = "last_reviewed", type = "string", optional = true, description = "Date the strategy was last reviewed or updated" }
]

[relation.lifecycle_defined_by]
relation_description = "Connects an equipment or component to its lifecycle plan."
from_entity = "mbse_entity"
to_entity = "lifecycle_plan"
relation_properties = [
  { name = "status", type = "string", optional = true, description = "Current lifecycle status (e.g., active, obsolete)" }
]
