title = "System Simulation Schema"
version = "1.1"

# ====================
# Node Entities
# ====================


[node.rca_case]
node_description = """Represents a structured investigation into the root causes of an observed abnormal condition, failure, or event. 
                      It includes hypotheses, evidence, conclusions, and recommended actions."""

node_properties = [
    { name = "ID", type = "string", optional = false, description = "Unique identifier for the RCA case" },
    { name = "start_date", type = "string", optional = false, description = "Date the RCA investigation began" },
    { name = "end_date", type = "string", optional = true, description = "Date the RCA investigation concluded" },
    { name = "status", type = "enum", optional = false, description = "Current status of the RCA case", enum_values = ["open", "in_progress", "closed"] },
    { name = "summary", type = "string", optional = true, description = "Brief summary of the RCA findings" }
]

[node.causal_factor]
node_description = """Represents a contributing factor identified during the RCA process, which may be technical, human, organizational, or environmental."""

node_properties = [
    { name = "ID", type = "string", optional = false, description = "Unique identifier for the causal factor" },
    { name = "type", type = "enum", optional = false, description = "Type of causal factor", enum_values = ["technical", "human", "organizational", "environmental"] },
    { name = "description", type = "string", optional = false, description = "Detailed explanation of the factor" },
    { name = "evidence", type = "string", optional = true, description = "Supporting evidence or observations" }
]

[node.corrective_action]
node_description = """Represents a proposed or implemented action intended to eliminate or mitigate the root cause or contributing factors."""

node_properties = [
    { name = "ID", type = "string", optional = false, description = "Unique identifier for the corrective action" },
    { name = "description", type = "string", optional = false, description = "Detailed description of the action" },
    { name = "status", type = "enum", optional = true, description = "Implementation status", enum_values = ["planned", "in_progress", "completed", "cancelled"] },
    { name = "target_date", type = "string", optional = true, description = "Date by which the action is expected to be completed" }
]


# ====================
# Relationships
# ====================


[relation.investigates]
relation_description = """Indicates that the RCA case is investigating a specific condition report or event."""
from_node = "rca_case"
to_node = "condition_report"

[relation.identifies_causal_factor]
relation_description = """Indicates that the RCA case has identified a specific causal factor."""
from_node = "rca_case"
to_node = "causal_factor"

[relation.recommends_action]
relation_description = """Indicates that the RCA case recommends a specific corrective action."""
from_node = "rca_case"
to_node = "corrective_action"

[relation.addresses_causal_factor]
relation_description = """Indicates that a corrective action is intended to mitigate or eliminate a specific causal factor."""
from_node = "corrective_action"
to_node = "causal_factor"

[relation.related_work_order]
relation_description = """Links a corrective action to a work order that implements it."""
from_node = "corrective_action"
to_node = "work_order"

