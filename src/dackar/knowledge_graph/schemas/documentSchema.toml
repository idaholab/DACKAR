title = "Document Graph Schema"
version = 1.0

# ====================
# Node Entities
# ====================

[node.Document]
node_description = """  This node represents a full document such as a licensing report, safety analysis report, or technical 
                        specification. It serves as a container for structured content including sections, figures, and tables, 
                        and provides metadata such as title, publication date, and document type."""
node_properties = [
    { name = "document_id", type = "string", optional = false, description = "Unique identifier for the document" },
    { name = "title", type = "string", optional = false, description = "Title of the document" },
    { name = "publication_date", type = "string", optional = true, description = "Date the document was published or issued" },
    { name = "document_type", type = "string", optional = true, description = "Type of document (e.g., SAR, licensing report, technical spec)" },
    { name = "source_path", type = "string", optional = true, description = "File path or URI to the original document" }
]

[node.DocumentSection]
node_description = """  This node represents a section within a document, such as a chapter, subsection, or paragraph. 
                        It contains structured text and metadata, and serves as a source for extracted knowledge 
                        elements like requirements, specifications, or hazards."""
node_properties = [
    { name = "section_id", type = "string", optional = false, description = "Unique identifier for the section" },
    { name = "title", type = "string", optional = true, description = "Title or heading of the section" },
    { name = "section_number", type = "string", optional = true, description = "Hierarchical number or label (e.g., 3.2.1)" },
    { name = "text", type = "string", optional = true, description = "Raw or cleaned text content of the section" },
    { name = "page_number", type = "integer", optional = true, description = "Page number where the section starts" }
]

[node.Figure]
node_description = """  This node represents a figure within a document, such as a diagram, schematic, or chart. 
                        Figures often illustrate systems, components, or processes and are referenced by other entities."""
node_properties = [
    { name = "figure_id", type = "string", optional = false, description = "Unique identifier for the figure" },
    { name = "caption", type = "string", optional = true, description = "Caption or description of the figure" },
    { name = "image_path", type = "string", optional = true, description = "File path or URI to the figure image" },
    { name = "page_number", type = "integer", optional = true, description = "Page number where the figure appears" }
]

[node.Table]
node_description = """  This node represents a table within a document, containing structured data such as specifications, 
                        test results, or component listings. Tables are often referenced by other entities for quantitative or categorical data."""
node_properties = [
    { name = "table_id", type = "string", optional = false, description = "Unique identifier for the table" },
    { name = "caption", type = "string", optional = true, description = "Caption or description of the table" },
    { name = "data", type = "string", optional = true, description = "Serialized representation of the table data (e.g., JSON or CSV)" },
    { name = "headers", type = "list", optional = true, description = "List of column headers in the table" },
    { name = "page_number", type = "integer", optional = true, description = "Page number where the table appears" }
]

# ====================
# Relations
# ====================

[relation.has_section]
relation_description = "Links a document to its sections."
source_node = "node.Document"
target_node = "node.DocumentSection"

[relation.has_figure]
relation_description = "Links a document to its figures."
source_node = "node.DocumentSection"
target_node = "node.Figure"

[relation.has_table]
relation_description = "Links a document to its tables."
source_node = "node.DocumentSection"
target_node = "node.Table"
